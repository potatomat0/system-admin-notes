---
type: article
fc-calendar: Gregorian Calendar
fc-date: 
year: 2024
month: March
day: 28
creation date: 2024-03-28 23:19
modification date: Thursday 28th March 2024 23:19:15
---

#internetContent  #computerScience/computerBasic
## Article link:

related notes: 
- [[Linux - Docker Cheat Sheet]]
_____
## Content

## Docker with Node.js Hello World (Using Official Docs)

**Pre-requisites:**

- Docker installed ([https://www.docker.com/products/docker-desktop/](https://www.docker.com/products/docker-desktop/))
- Node.js installed ([https://nodejs.org/en](https://nodejs.org/en))

**Steps:**

1. **Create a Node.js application:**
    
    Bash
    
    ```
    mkdir hello-world
    cd hello-world
    touch index.js
    ```
    
    Use code [with caution.](https://gemini.google.com/faq#coding)
    
    content_copy
    
2. **Write the "Hello World" script:**
    
    JavaScript
    
    ```
    (async () => {
        console.log("Hello from a Node.js container!");
    })();
    ```
    
    
    Save `index.js` with this code.
    
3. **Create a Dockerfile:**
    
    Bash
    
    ```
    touch Dockerfile
    vim Dockerfile
    ```
    
    Paste the following content:
    
    Dockerfile
    
    ```
    FROM node:alpine
    
    WORKDIR /app
    
    COPY package*.json ./
    RUN npm install
    
    COPY . .
    
    CMD [ "node", "index.js" ]
    ```
    
4. **Build the Docker image:**
    
    Bash
    
    ```
    docker build -t hello-world .
    ```
    
    Use code [with caution.](https://gemini.google.com/faq#coding)
    
    content_copy
    
    This builds an image named `hello-world` based on the `Dockerfile`.
    
5. **Run the container:**
    
    Bash
    
    ```bash
    docker run hello-world
	 # or docker run -p <host_port>:<container_port> <image_name>
    ```
    
    This creates and runs a container from the `hello-world` image. You'll see the "Hello from a Node.js container!" message printed.
    

**Explanation:**

- **`FROM node:alpine`:** This line defines the base image for our container. We're using the official Node.js image with Alpine Linux (lightweight).
- **`WORKDIR /app`:** Sets the working directory inside the container.
- **`COPY package*.json ./` & `RUN npm install`:** Copies `package.json` (if present) and runs `npm install` to install dependencies.
- **`COPY . .`:** Copies all files from the current directory to the container's working directory.
- **`CMD [ "node", "index.js" ]`:** This command tells the container what to run when it starts. We're running `node index.js` to execute our Node.js script.

**Basic commands covered:**

- `docker build`: Builds a Docker image from a Dockerfile.
- `docker run`: Creates and runs a container from an image.

**Additional commands (for reference):**

- `docker ps`: Lists running containers.
- `docker stop <container_id>`: Stops a running container.
- `docker rm <container_id>`: Removes a stopped container.
- `docker images`: Lists all images on your system.
- `docker pull <image_name>`: Pulls an image from Docker Hub.

This gives you a basic understanding of using Docker with a simple Node.js application. Refer to the official Docker documentation ([https://docs.docker.com/](https://docs.docker.com/)) for more advanced usage and functionalities.

## other commands 

**1. Inspecting a Container:**

- `docker inspect hello-world`: This command shows detailed information about the `hello-world` image, including environment variables, network settings, and layers used.

**2. Running a container in detached mode:**

- `docker run -d hello-world`: The `-d` flag runs the container in detached mode. This means the container will run in the background without attaching to your terminal. You can use `docker ps` to see the running container's ID.

**3. Entering a running container:**

- `docker exec -it <container_id> bash`: This command allows you to enter an already running container identified by its ID. The `-i` flag allows interactive input, and `-t` allocates a pseudo-terminal. You can then use standard Linux commands within the container's environment.

**4. Mounting volumes:**

- Let's modify the `Dockerfile` to mount the current directory as a volume:

Dockerfile

```
FROM node:alpine

WORKDIR /app

COPY package*.json ./
RUN npm install

COPY . .
VOLUME ["/app"]  # This line mounts current directory as a volume

CMD [ "node", "index.js" ]
```


- Rebuild the image (`docker build -t hello-world .`) and run with `docker run -d -v $(pwd):/app hello-world`. The `-v` flag mounts the current directory (`$(pwd)`) as a volume named `/app` inside the container. Any changes to your local files will be reflected within the container.

**5. Logging container output:**

- `docker logs <container_id>`: This command retrieves and displays the logs generated by the container. Useful for debugging or monitoring the application's behavior within the container.